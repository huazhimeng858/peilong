/**
 * Created by Administrator on 2016/4/26.
 */

seajs.use(["dhjs","menu","cookie"]),seajs.use(["searchpath/ssk39V01.js","searchpath/test2v02"],function(){SFSF.init()});
function unique(arr){var result=[],hash={};for(var i=0,elem;(elem=arr[i])!=null;i++){if(!hash[elem]){result.push(elem);hash[elem]=true}}return result}function getName(){var e=document.getElementById("projnames").value;var flag=document.getElementById("projnames").flag;var houseUrl="";var obj=document.getElementById(e);if(obj!=null){houseUrl=obj.innerHTML}else{var ulElt=document.getElementById("xinfangList");var childrens=ulElt.childNodes;var len=childrens.length;var arrayObj=new Array();for(var i=0;i<len;i++){if(childrens[i].id!=null&&childrens[i].id.indexOf(e)>=0){arrayObj.push(childrens[i].id)}}arrayObj=unique(arrayObj);if(arrayObj.length>3){houseUrl=""}else{for(var i=0;i<arrayObj.length;i++){if(arrayObj[i].indexOf("可售房源")>0){arrayObj.splice(i,1)}if(arrayObj[i].indexOf("可售户型")>0){arrayObj.splice(i,1)}}if(arrayObj.length==1){var ob=document.getElementById(arrayObj[0]);houseUrl=ob.innerHTML}}}if(typeof(flag)=="undefined"){flag="chafangjia"}if(flag=="chafangjia"){PingGus(e,0)}else{if(flag=="maixinfang"){clickMainxinfang(e,houseUrl)}else{if(flag=="zhuangxiujiaju"){clickZhuangxiu(e)}else{if(flag=="fangchankuaixun"){clickFangchankuaixun(e)}else{if(flag=="maiershoufang"){clickMaiershoufang(e)}else{if(flag=="zhaozufang"){clickZhaozufang(e)}else{if(flag=="haiwaifangchan"){clickHaiwaifangchan()}}}}}}}}function clickMaiershoufang(e){var val=$URL.encode(e);val=val.toLowerCase();var n=e;if(n==""||n=="请输入关键字(楼盘名或地名)"){""!=document.getElementById("projnames").value&&"请输入关键字(楼盘名或地名)"!=document.getElementById("projnames").value?(13!=n?(document.getElementById("pinggu").href="http://esf.fang.com/house/c61-kw"+val,document.getElementById("pinggu").click()):document.getElementById("pinggu").href="http://esf.fang.com/house/c61-kw"+val,(13==n)&&document.getElementById("pinggu").click("return false")):(document.getElementById("pinggu").href="http://esf.fang.com/",document.getElementById("pinggu").click("return false"))}else{""!=document.getElementById("projnames").value?(13!=n?(document.getElementById("pinggu").href="http://esf.fang.com/house/c61-kw"+val+"/",document.getElementById("pinggu").click()):document.getElementById("pinggu").href="http://esf.fang.com/house/c61-kw"+val+"/",(13==n)&&document.getElementById("pinggu").click("return false")):(document.getElementById("pinggu").href="http://esf.fang.com/",document.getElementById("pinggu").click("return false"))}}function clickZhaozufang(e){var val=$URL.encode(e);var n=e;if(n==""||n=="请输入关键字(楼盘名或地名)"){""!=document.getElementById("projnames").value&&"请输入关键字(楼盘名或地名)"!=document.getElementById("projnames").value?(13!=n?(document.getElementById("pinggu").href="http://zu.fang.com/house/s31-kw"+val,document.getElementById("pinggu").click()):document.getElementById("pinggu").href="http://zu.fang.com/house/s31-kw"+val,(13==n)&&document.getElementById("pinggu").click("return false")):(document.getElementById("pinggu").href="http://zu.fang.com/",document.getElementById("pinggu").click("return false"))}else{""!=document.getElementById("projnames").value?(13!=n?(document.getElementById("pinggu").href="http://zu.fang.com/house/s31-kw"+val,document.getElementById("pinggu").click()):document.getElementById("pinggu").href="http://zu.fang.com/house/s31-kw"+val,(13==n)&&document.getElementById("pinggu").click("return false")):(document.getElementById("pinggu").href="http://zu.fang.com/",document.getElementById("pinggu").click("return false"))}}function PingGus(e,n){var cityName="全国";if(typeof(cityName)!="undefined"&&"全国"==cityName){cityName="北京"}var a=e,t=document.getElementById("projnames"),g=document.getElementById("pinggu"),u="http://fangjia.fang.com/pinggu/ajax/searchtransfer.aspx?strcity="+escape(cityName);""!=t.value&&-1===t.value.indexOf("请输入小区名称或地址")&&(u=13!=a?u+"&projname="+escape(a):u+"&projname="+escape(t.value)),g.href=u,!0!==n&&document.getElementById("pinggu").click()}function clickZhuangxiu(e,jiaUrl){if(typeof(jiaUrl)=="undefined"||jiaUrl==""){var val=$URL.encode(e);var n=e;""!=document.getElementById("projnames").value&&"请输入户型/功能间/风格等关键词"!=document.getElementById("projnames").value?(13!=n?(document.getElementById("pinggu").href="http://home.fang.com/album/search/?page=1&sortid=11&keyword="+val,document.getElementById("pinggu").click()):document.getElementById("pinggu").href="http://home.fang.com/album/search/?page=1&sortid=11&keyword="+val,(13==n)&&document.getElementById("pinggu").click("return false")):(document.getElementById("pinggu").href="http://home.fang.com/album/search/?page=1&sortid=11",document.getElementById("pinggu").click("return false"))}else{var n=e;""!=document.getElementById("projnames").value&&"请输入户型/功能间/风格等关键词"!=document.getElementById("projnames").value?(13!=n?(document.getElementById("pinggu").href=jiaUrl,document.getElementById("pinggu").click()):document.getElementById("pinggu").href=jiaUrl,(13==n)&&document.getElementById("pinggu").click("return false")):(document.getElementById("pinggu").href=jiaUrl,document.getElementById("pinggu").click("return false"))
}}function clickMainxinfang(e,houseUrl){if(typeof(houseUrl)=="undefined"||houseUrl==""){var n=e;""!=document.getElementById("projnames").value&&"请输入关键字（楼盘名/地名/开发商等）"!=document.getElementById("projnames").value?(13!=n?(document.getElementById("pinggu").href="http://newhouse.fang.com/house/s/a9"+$URL.encode(n)+"/",document.getElementById("pinggu").click()):document.getElementById("pinggu").href="http://newhouse.fang.com/house/s/a9"+$URL.encode(document.getElementById("projnames").value)+"/",(13==n)&&document.getElementById("pinggu").click("return false")):(document.getElementById("pinggu").href="http://newhouse.fang.com/house/s/",document.getElementById("pinggu").click("return false"))}else{var n=e;""!=document.getElementById("projnames").value&&"请输入关键字（楼盘名/地名/开发商等）"!=document.getElementById("projnames").value?(13!=n?(document.getElementById("pinggu").href=houseUrl,document.getElementById("pinggu").click()):document.getElementById("pinggu").href=houseUrl,(13==n)&&document.getElementById("pinggu").click("return false")):(document.getElementById("pinggu").href="http://newhouse.fang.com/house/s/",document.getElementById("pinggu").click("return false"))}}function clickFangchankuaixun(e){if("请输入关键字"==document.getElementById("projnames").value){e=""}var q=e;var keyword=encodeURI(encodeURI(q));var type=encodeURI(encodeURI("资讯"));var fld=encodeURI(encodeURI("全文"));var time=encodeURI(encodeURI("不限时间"));var sort=encodeURI(encodeURI("相关度"));var cityName="全国";if(typeof(cityName)!="undefined"&&"全国"==cityName){cityName="北京"}var cityScope=encodeURI(encodeURI(cityName));var code="quanguo";var url="";if("taizhou"==code||"huaian"==code||"lyg"==code||"jy"==code||"wuhu"==code||"jx"==code||"huzhou"==code||"qz"==code||"zhangzhou"==code||"bengbu"==code||"yancheng"==code||"zhenjiang"==code||"sq"==code||"zb"==code||"jining"==code||"linyi"==code||"hd"==code||"jl"==code||"anshan"==code||"lc"==code||"mas"==code||"daqing"==code||"leshan"==code||"guilin"==code||"xj"==code||"jiujiang"==code||"xn"==code||"liuzhou"==code||"xt"==code||"zhuzhou"==code||"yueyang"==code||"ganzhou"==code){url="http://news.quanguo.fang.com/gdxw.html"}else{if("bj"==code||"quanguo"==code){url="http://news.fang.com/"}else{url="http://news.quanguo.fang.com/"}}var n=e;""!=document.getElementById("projnames").value&&"请输入关键字"!=document.getElementById("projnames").value?(13!=n?(document.getElementById("pinggu").href="http://news.fang.com/s/zx_"+keyword+"_"+type+"_"+fld+"_"+time+"_"+sort+"_"+cityScope+"_1.html",document.getElementById("pinggu").click()):document.getElementById("pinggu").href="http://news.fang.com/s/zx_"+keyword+"_"+type+"_"+fld+"_"+time+"_"+sort+"_"+cityScope+"_1.html",(13==n)&&document.getElementById("pinggu").click("return false")):(document.getElementById("pinggu").href=url,document.getElementById("pinggu").click("return false"))}function clickHaiwaifangchan(e){var n=e;var url="http://world.fang.com/";var val=document.getElementById("projnames").value;if(n==""||n=="请输入关键字(国家/城市/地区)"||typeof(n)=="undefined"){if(val!=""&&val!="请输入关键字(国家/城市/地区)"){var pathElt=document.getElementById(val);if(typeof(pathElt)=="undefined"||pathElt==null){url+="house/kw"+val}else{url+=pathElt.innerHTML}}}else{url+=n}document.getElementById("pinggu").href=url;document.getElementById("pinggu").click("return false")};